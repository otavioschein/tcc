version: "3.1"

rules:

- rule: Execute a acao action_session_start sempre que iniciar uma nova sessao
  steps:
    - intent: session_started
    - action: action_session_start

- rule: Pergunte o que o usuario quer fazer toda vez que ele saudar
  steps:
    - intent: saudacao
    - action: utter_saudacao

- rule: Responda ao agradecimento
  steps: 
    - intent: agradecimento
    - action: utter_agradecimento

- rule: Responda a despedida
  steps:
    - intent: despedida
    - action: utter_despedida

- rule: Responda a negativa
  steps:
    - intent: negativa
    - action: utter_negativa

- rule: Execute a chamada a api quando a intent livro for identificada
  steps:
    - intent: livro
    - action: action_extrai_nome_de_livro_ou_nome_de_autor
    - action: action_buscar_livro_por_titulo

- rule: Execute a acao action_buscar_livro_por_autor sempre que a action_extrair_nome_de_autor_no_input for executada
  steps:
    - intent: autor
    - action: action_extrai_nome_de_livro_ou_nome_de_autor
    - action: action_buscar_livro_por_autor

- rule: Pergunte o titulo do livro sempre que o usuário quiser pesquisar um livro por titulo
  steps:
    - intent: buscar_livro_por_titulo
    - action: action_extrai_nome_de_livro_ou_nome_de_autor

- rule: Pergunte o nome do autor sempre que o usuário quiser pesquisar um livro por nome de autor
  steps:
    - intent: buscar_livro_por_autor
    - action: action_extrai_nome_de_livro_ou_nome_de_autor

- rule: Execute a acao buscar_mais_opcoes sempre que a intent buscar_mais_opcoes for identificada
  steps:
    - intent: buscar_mais_opcoes
    - action: action_buscar_mais_opcoes